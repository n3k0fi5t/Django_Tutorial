{% extends 'base.html' %}

{% block content %}
<div class="row">
    <div class="col mb-3 mt-3">
        <form method="post">
            <button type="button" class="btn btn-outline-danger">Restart all</button>
        </form>
    </div>
</div>

<table class="table table-striped table-hover table-bordered">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">website</th>
        <th scope="col">status</th>
        <th scope="col">submit time</th>
        <th scope="col">update time</th>
        <th scope="col">task</th>
      </tr>
    </thead>
    {% if task_list %}
        <tbody>
            {% for task in task_list %}
            <tr>
                <th scope="row">{{ forloop.counter }}</th>
                    <td>
                        <a href="{{ task.url }}">{{task.name}}</a>
                    </td>
                    <td>
                        {% if task.status == 0 %}
                            <a href="#" class="badge badge-warning">In Queue</a>
                        {% elif task.status == 1 %}
                            <a href="#" class="badge badge-light">Running</a>
                        {% elif task.status == 2 %}
                            <a href="#" class="badge badge-success">Finish</a>
                        {% elif task.status == 3 %}
                            <a href="#" class="badge badge-danger">Error</a>
                        {% else %}
                            <a href="#" class="badge badge-secondary">unknown</a>
                        {% endif %}
                    </td>
                    <td>
                        {{ task.submit_time|date:"N d, h:i:s a"}}
                    </td>
                    <td>
                        {{ task.update_time|date:"N d, h:i:s a"}}
                    </td>
                    <td>
                        <p>??</p>
                    </td>
            </tr>
            {% endfor %}
        </tbody>
    {% endif %}
{% endblock %}